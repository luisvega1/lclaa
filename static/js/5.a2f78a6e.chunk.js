(window.webpackJsonpLCLAA=window.webpackJsonpLCLAA||[]).push([[5],{341:function(e,a,t){"use strict";var r=t(1),n=t.n(r),l=function(e){return n.a.createElement("div",{className:"content-wrapper"},e.unwrap?n.a.createElement("div",{className:"unwrap"},e.children):e.children)};l.defaultProps={unwrap:!1},a.a=l},342:function(e,a,t){"use strict";var r=t(48),n=t(340),l=t(347),c=t.n(l),s={validate(e){var a="checkbox"===e.type,t=a?e.checked:e.value;if(!e.name)throw new Error("Input name must not be empty.");var r=e.getAttribute("data-param"),l=JSON.parse(e.getAttribute("data-validate")),s=[];return l&&l.length&&l.forEach((function(e){switch(e){case"required":s[e]=a?!1===t:c.a.isEmpty(t);break;case"email":s[e]=!c.a.isEmail(t);break;case"number":s[e]=!c.a.isNumeric(t);break;case"integer":s[e]=!c.a.isInt(t);break;case"alphanum":s[e]=!c.a.isAlphanumeric(t);break;case"url":s[e]=!c.a.isURL(t);break;case"equalto":var l=document.getElementById(r).value;s[e]=!c.a.equals(t,l);break;case"minlen":s[e]=!c.a.isLength(t,{min:r});break;case"maxlen":s[e]=!c.a.isLength(t,{max:r});break;case"len":var i=JSON.parse(r),m=Object(n.a)(i,2),o=m[0],u=m[1];s[e]=!c.a.isLength(t,{min:o,max:u});break;case"min":s[e]=!c.a.isInt(t,{min:c.a.toInt(r)});break;case"max":s[e]=!c.a.isInt(t,{max:c.a.toInt(r)});break;case"list":var d=JSON.parse(r);s[e]=!c.a.isIn(t,d);break;default:throw new Error("Unrecognized validator.")}})),s},bulkValidate(e){var a=this,t={},n=!1;return e.forEach((function(e){var l=a.validate(e);t=Object(r.a)(Object(r.a)({},t),{},{[e.name]:l}),n||(n=Object.keys(l).some((function(e){return l[e]})))})),{errors:t,hasError:n}}};a.a=s},436:function(e,a,t){"use strict";t.r(a);var r=t(11),n=t.n(r),l=t(117),c=t(37),s=t(48),i=t(340),m=t(1),o=t.n(m),u=t(114),d=t(363),p=t.n(d),b=t(4),f=(t(364),function(e){var a=e.type,t=(e.user,e.imageGetter),r=Object(m.useState)(!1),n=Object(i.a)(r,2),l=n[0],c=n[1],s=Object(m.useState)(null),d=Object(i.a)(s,2),f=d[0],h=d[1],E=Object(m.useState)(null),v=Object(i.a)(E,2),g=v[0],k=v[1],w=Object(m.useState)({aspect:"avatar"===a?1:16/9,unit:"px",width:"avatar"===a?400:650,height:"avatar"===a?400:350,ruleOfThirds:!0}),N=Object(i.a)(w,2),x=N[0],j=N[1],O=function(){return c(!l)},y=function(e){if(e.target.value.length>0){var a=URL.createObjectURL(e.target.files[0]);h(a),O()}},S=function(){k("".concat(u.a,"/images/original/missing.png"))};Object(m.useEffect)((function(){S()}),[]);var I=function(e){return e.split(",")[1]};return o.a.createElement(b.h,null,"avatar"===a?o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:{size:6,offset:3},className:"d-flex flex-column align-items-center"},o.a.createElement("h2",null,"avatar"===a?"Imagen del speaker":"Banner"),o.a.createElement("img",{src:g,className:"avatar"===a?"img-fluid rounded-circle shadow mb-3":"img-fluid rounded shadow mb-3",width:"avatar"===a?400:650,heigth:"avatar"===a?400:350,alt:"avatar"}),o.a.createElement("label",{htmlFor:"inputImage",title:"Upload image file",className:"btn btn-info btn-upload shadow"},o.a.createElement(b.m,{id:"inputImage",name:"file",type:"file",accept:"image/*",className:"sr-only",onChange:y}),o.a.createElement("span",{title:"Import image with Blob URLs",className:"docs-tooltip"},"Elegir imagen")))):o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:{size:6,offset:3},className:"d-flex flex-column align-items-center"},o.a.createElement("h2",null,"avatar"===a?"Imagen del speaker":"Banner"),o.a.createElement("img",{src:g,className:"avatar"===a?"img-fluid rounded-circle shadow mb-3":"img-fluid rounded shadow mb-3",width:"avatar"===a?400:650,heigth:"avatar"===a?400:350,alt:"banner"}),o.a.createElement("label",{htmlFor:"inputBanner",title:"Upload image file",className:"btn btn-info btn-upload shadow"},o.a.createElement(b.m,{id:"inputBanner",name:"file",type:"file",accept:"image/*",className:"sr-only",onChange:y}),o.a.createElement("span",{title:"Import image with Blob URLs",className:"docs-tooltip"},"Elegir imagen")))),o.a.createElement(b.p,{isOpen:l,toggle:O,size:"lg"},o.a.createElement(b.q,{className:"text-center"},f&&o.a.createElement(p.a,{className:"img-fluid",src:f,onImageLoaded:k,crop:x,onChange:function(e){j(e)}})),o.a.createElement(b.r,null,o.a.createElement(b.b,{color:"primary",className:"shadow",onClick:function(){var e=document.createElement("canvas"),r=g.naturalWidth/g.width,n=g.naturalHeight/g.height;e.width=x.width,e.height=x.height,e.getContext("2d").drawImage(g,x.x*r,x.y*n,x.width*r,x.height*n,0,0,x.width,x.height);var l=e.toDataURL("image/png"),c=I(l);k(l),t(c,a),O()}},"Aceptar"),o.a.createElement(b.b,{color:"danger",className:"shadow",onClick:function(){O(),S(),h(null)}},"Cancelar"))))}),h=t(341),E=t(342),v=t(425),g=t(55),k=(t(431),t(361)),w=t.n(k);a.default=Object(g.c)("translations")((function(e){var a=Object(m.useState)(null),t=Object(i.a)(a,2),r=t[0],d=t[1],p=Object(m.useState)({speaker:{name:"",description:"",job:"",banner:"",avatar:""},errors:{}}),g=Object(i.a)(p,2),k=g[0],N=g[1],x=function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,r=E.a.validate(a);N({speaker:Object(s.a)(Object(s.a)({},k.speaker),{},{[a.name]:t}),errors:Object(s.a)(Object(s.a)({},k.errors),{},{[a.name]:r})})},j=function(e,a){return k&&k.errors&&k.errors[e]&&k.errors[e][a]},O=function(e,a){N({speaker:Object(s.a)(Object(s.a)({},k.speaker),{},{[a]:e})})},y=function(){var e=Object(c.a)(n.a.mark((function e(a){var t,r,i,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=a.target,r=Object(l.a)(t.elements).filter((function(e){return["INPUT","SELECT"].includes(e.nodeName)})),i=E.a.bulkValidate(r),m=i.errors,N({speaker:Object(s.a)({},k.speaker),errors:m}),e.next=7,Object(u.d)(k).then(function(){var e=Object(c.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S("Speaker registrado."),N({speaker:{name:"",description:"",job:"",banner:"",avatar:""},errors:{}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){w()({title:"\xa1Alerta!",icon:"warning",text:e.response.data.message})}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(e){Object(v.toast)(e,{type:"success",position:"bottom-center"})};return Object(m.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("USERSESSION"));d(e)}),[]),o.a.createElement(h.a,null,o.a.createElement("div",{className:"content-heading"},o.a.createElement("div",null,"Speaker")),o.a.createElement(b.v,null,o.a.createElement(b.f,{xs:12,className:"text-center"},o.a.createElement(b.c,{className:"p-3 shadow"},o.a.createElement(b.e,{className:"text-left mb-4"},"Nuevo Speaker"),o.a.createElement(b.d,null,o.a.createElement("form",{className:"form-horizontal",name:"speaker",onSubmit:y},o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:6},o.a.createElement(b.l,{row:!0},o.a.createElement("label",{className:"col-xl-4 col-form-label"},"Nombre"),o.a.createElement("div",{className:"col-xl-8"},o.a.createElement(b.m,{onChange:x,type:"text",name:"name",invalid:j("speaker","name"),"data-validate":'["required"]',value:k.speaker.name}),j("speaker","name")&&o.a.createElement("span",{className:"invalid-feedback"},"Campo requerido")))),o.a.createElement(b.f,{xl:6},o.a.createElement(b.l,{row:!0},o.a.createElement("label",{className:"col-xl-4 col-form-label"},"Puesto"),o.a.createElement("div",{className:"col-xl-8"},o.a.createElement(b.m,{onChange:x,type:"text",name:"job",invalid:j("speaker","job"),"data-validate":'["required"]',value:k.speaker.job}),j("speaker","job")&&o.a.createElement("span",{className:"invalid-feedback"},"Campo requerido"))))),o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:6},o.a.createElement(b.l,{row:!0},o.a.createElement("label",{className:"col-xl-4 col-form-label"},"Descripci\xf3n"),o.a.createElement("div",{className:"col-xl-8"},o.a.createElement(b.m,{onChange:x,type:"textarea",name:"description",invalid:j("speaker","description"),"data-validate":'["required"]',value:k.speaker.description}),j("speaker","description")&&o.a.createElement("span",{className:"invalid-feedback"},"Field is required"))))),o.a.createElement("hr",null),o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:5},o.a.createElement(f,{imageGetter:O,id:"av",type:"avatar",user:r})),o.a.createElement(b.f,{xl:7},o.a.createElement(f,{imageGetter:O,id:"ban",type:"banner",user:r}))),o.a.createElement("hr",null),o.a.createElement(b.v,null,o.a.createElement(b.f,{xl:12,className:"d-flex flex-row justify-content-end"},o.a.createElement(b.b,{type:"submit",color:"primary",className:"shadow"},"Guardar")))))))),o.a.createElement(v.ToastContainer,null))}))}}]);
//# sourceMappingURL=5.a2f78a6e.chunk.js.map